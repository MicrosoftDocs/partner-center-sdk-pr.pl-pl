---
title: Zarządzanie wypłatami przy użyciu interfejsu API usługi Wypłaty
description: Dowiedz się, jak używać interfejsu API Partner Center Wypłaty w celu uzyskiwania dostępu do danych wypłat
ms.date: 06/23/2021
ms.service: partner-dashboard
ms.subservice: partnercenter-sdk
author: jasongroce
ms.author: sabaja
ms.openlocfilehash: 014a1e6a14b538b7557d58710b9132dd9e37de21
ms.sourcegitcommit: 7e2d2805c4cdd61785b1cdcca99cad10d5683153
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/10/2021
ms.locfileid: "113592456"
---
# <a name="manage-payouts-using-the-payout-service-api"></a><span data-ttu-id="335de-103">Zarządzanie wypłatami przy użyciu interfejsu API usługi Wypłaty</span><span class="sxs-lookup"><span data-stu-id="335de-103">Manage payouts using the Payout Service API</span></span>

<span data-ttu-id="335de-104">W tym artykule wyjaśniono, jak uzyskać dostęp do danych wypłat za pośrednictwem interfejsów API usługi Wypłaty zamiast interfejsu Partner Center użytkownika.</span><span class="sxs-lookup"><span data-stu-id="335de-104">This article explains how you can access payout data through the Payout Service APIs instead of the Partner Center UI.</span></span> <span data-ttu-id="335de-105">Te interfejsy API zapewniają programowy sposób zapewnienia możliwości funkcji eksportowania danych [w](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) Partner Center.</span><span class="sxs-lookup"><span data-stu-id="335de-105">These APIs provide a programmatic way to provide the capability of the [Export data](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) feature in Partner Center.</span></span>

## <a name="available-apis"></a><span data-ttu-id="335de-106">Dostępne interfejsy API</span><span class="sxs-lookup"><span data-stu-id="335de-106">Available APIs</span></span>

<span data-ttu-id="335de-107">Zobacz wszystkie dostępne interfejsy API na [stronie Wypłaty partnerów.](/rest/api/partner-center/partner-payouts)</span><span class="sxs-lookup"><span data-stu-id="335de-107">See all available APIs at [Partner Payouts](/rest/api/partner-center/partner-payouts).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="335de-108">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="335de-108">Prerequisites</span></span>

- <span data-ttu-id="335de-109">[Zarejestruj aplikację przy użyciu usługi AAD/tożsamości firmy Microsoft](/graph/auth-register-app-v2) w Azure Portal aplikacji i dodaj do aplikacji odpowiednich właścicieli i role.</span><span class="sxs-lookup"><span data-stu-id="335de-109">[Register an application with AAD/Microsoft Identity](/graph/auth-register-app-v2) in the Azure portal, and add appropriate owners and roles to the application.</span></span>
- <span data-ttu-id="335de-110">Zainstaluj [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="335de-110">Install [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span></span>

## <a name="register-an-application-with-the-microsoft-identity-platform"></a><span data-ttu-id="335de-111">Rejestrowanie aplikacji za pomocą platformy tożsamości firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="335de-111">Register an application with the Microsoft identity platform</span></span>

<span data-ttu-id="335de-112">Usługa Platforma tożsamości Microsoft pomaga tworzyć aplikacje, do których użytkownicy i klienci mogą logować się przy użyciu tożsamości firmy Microsoft lub kont społecznościowych, [oraz](/azure/active-directory/develop/v2-overview) zapewniać autoryzowany dostęp do własnych interfejsów API lub interfejsów API firmy Microsoft, takich jak microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="335de-112">The [Microsoft identity platform](/azure/active-directory/develop/v2-overview) helps you build applications your users and customers can sign in to using their Microsoft identities or social accounts, and provide authorized access to your own APIs or Microsoft APIs like Microsoft Graph.</span></span>

1. <span data-ttu-id="335de-113">Zaloguj się do [witryny Azure Portal](https://portal.azure.com/) przy użyciu służbowego lub osobistego konta Microsoft.</span><span class="sxs-lookup"><span data-stu-id="335de-113">Sign in to the [Azure portal](https://portal.azure.com/) using either a work or school account or a personal Microsoft account.</span></span>

   <span data-ttu-id="335de-114">Jeśli Twoje konto zapewnia dostęp do więcej niż jednej dzierżawy, wybierz swoje konto w prawym górnym rogu i ustaw sesję portalu na poprawną dzierżawę usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="335de-114">If your account gives you access to more than one tenant, select your account in the upper right corner and set your portal session to the correct Azure AD tenant.</span></span>

2. <span data-ttu-id="335de-115">W lewym okienku nawigacji wybierz usługę Azure Active Directory, a następnie wybierz **Rejestracje aplikacji**, a następnie **pozycję Nowa rejestracja.**</span><span class="sxs-lookup"><span data-stu-id="335de-115">In the left navigation pane, select the Azure Active Directory service, then **App registrations**, then **New registration**.</span></span> <span data-ttu-id="335de-116">Zostanie **wyświetlona strona Rejestrowanie** aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-116">The **Register an application** page appears.</span></span>

   :::image type="content" source="./images/manage-payouts/new-app-registration.png" alt-text="Zrzut ekranu przedstawiający ekran Rejestrowanie aplikacji w Azure Portal.":::

3. <span data-ttu-id="335de-118">Wprowadź informacje dotyczące rejestracji aplikacji:</span><span class="sxs-lookup"><span data-stu-id="335de-118">Enter your application's registration information:</span></span>

   - <span data-ttu-id="335de-119">Nazwa: wprowadź znaczącą nazwę aplikacji, która będzie wyświetlana użytkownikom aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-119">Name: Enter a meaningful application name that will be displayed to users of the app.</span></span>
   - <span data-ttu-id="335de-120">Obsługiwane typy kont: wybierz konta, które będą obsługiwane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="335de-120">Supported account types: Select which accounts your application will support.</span></span>

    | <span data-ttu-id="335de-121">**Obsługiwane typy kont**</span><span class="sxs-lookup"><span data-stu-id="335de-121">**Supported account types**</span></span>                             | <span data-ttu-id="335de-122">**Opis**</span><span class="sxs-lookup"><span data-stu-id="335de-122">**Description**</span></span>                                                                                            |
    |---------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="335de-123">Tylko konta w tym katalogu organizacyjnym</span><span class="sxs-lookup"><span data-stu-id="335de-123">Only accounts in this organizational directory</span></span>          | <span data-ttu-id="335de-124">Wybierz tę opcję, jeśli kompilujesz aplikację biznesową.</span><span class="sxs-lookup"><span data-stu-id="335de-124">Select this option if you're building a line-of-business (LOB) application.</span></span> <span data-ttu-id="335de-125">Ta opcja nie jest dostępna, jeśli aplikacja nie jest rejestrowana w katalogu.</span><span class="sxs-lookup"><span data-stu-id="335de-125">This option is not available if you're not registering the application in a directory.</span></span> <span data-ttu-id="335de-126">Ta opcja mapuje do usługi Azure AD tylko aplikację jednodostępną.</span><span class="sxs-lookup"><span data-stu-id="335de-126">This option maps to Azure AD only single-tenant.</span></span>  <span data-ttu-id="335de-127">Ta opcja jest opcją domyślną, chyba że rejestrujesz aplikację poza katalogiem.</span><span class="sxs-lookup"><span data-stu-id="335de-127">This option is the default unless you're registering the app outside of a directory.</span></span> <span data-ttu-id="335de-128">W przypadkach, gdy aplikacja jest rejestrowana poza katalogiem, wartość domyślna to aplikacja wielodostępna usługi Azure AD i konta osobiste Microsoft.</span><span class="sxs-lookup"><span data-stu-id="335de-128">In cases where the app is registered outside of a directory, the default is Azure AD multi-tenant and personal Microsoft accounts.</span></span>             |
    | <span data-ttu-id="335de-129">Konta w dowolnym katalogu organizacyjnym</span><span class="sxs-lookup"><span data-stu-id="335de-129">Accounts in any organizational directory</span></span>                | <span data-ttu-id="335de-130">Wybierz tę opcję, jeśli aplikacja jest przeznaczona dla wszystkich klientów biznesowych i edukacyjnych.</span><span class="sxs-lookup"><span data-stu-id="335de-130">Select this option if you would like to target all business and educational customers.</span></span>  <span data-ttu-id="335de-131">Ta opcja mapuje do usługi Azure AD tylko aplikację wielodostępną.</span><span class="sxs-lookup"><span data-stu-id="335de-131">This option maps to an Azure AD only multi-tenant.</span></span> <span data-ttu-id="335de-132">Jeśli aplikacja jest zarejestrowana w usłudze Azure AD jako jednodostępna, możesz ją zaktualizować do aplikacji wielodostępnej usługi Azure AD i z powrotem za pomocą bloku Uwierzytelnianie.</span><span class="sxs-lookup"><span data-stu-id="335de-132">If you registered the app as Azure AD only single-tenant, you can update it to be Azure AD multi-tenant and back to single-tenant through the Authentication blade.</span></span>                                                                                                                                                  |
    | <span data-ttu-id="335de-133">Konta w dowolnym katalogu organizacyjnym i konta osobiste Microsoft</span><span class="sxs-lookup"><span data-stu-id="335de-133">Accounts in any organizational directory and personal Microsoft accounts</span></span> | <span data-ttu-id="335de-134">Wybierz tę opcję, aby przeznaczyć aplikację dla najszerszego możliwego grona klientów.</span><span class="sxs-lookup"><span data-stu-id="335de-134">Select this option to target the widest set of customers.</span></span> <span data-ttu-id="335de-135">Ta opcja mapuje do usługi Azure AD aplikację wielodostępną i konta osobiste Microsoft.</span><span class="sxs-lookup"><span data-stu-id="335de-135">This option maps to Azure AD multi-tenant and personal Microsoft accounts.</span></span>  <span data-ttu-id="335de-136">Jeśli aplikacja została zarejestrowana jako wielodostępne i osobiste konta Microsoft usługi Azure AD, nie można zmienić tego wyboru w interfejsie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="335de-136">If you registered the app as Azure AD multi-tenant and personal Microsoft accounts, you cannot change this selection in the UI.</span></span> <span data-ttu-id="335de-137">Zamiast tego musisz użyć edytora manifestu aplikacji, aby zmienić obsługiwane typy konta.</span><span class="sxs-lookup"><span data-stu-id="335de-137">Instead, you must use the application manifest editor to change the supported account types.</span></span>                                                                          |

   - <span data-ttu-id="335de-138">*(opcjonalnie)* Redirect URI (Adres URI przekierowania): wybierz typ budowania aplikacji, Internet lub klient publiczny (aplikacja mobilna & Desktop), a następnie wprowadź adres URI przekierowania (lub adres URL odpowiedzi) dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-138">*(optional)* Redirect URI: Select the type of app you're building, Web or Public client (mobile & desktop), and then enter the redirect URI (or reply URL) for your application.</span></span> <span data-ttu-id="335de-139">(Adres URL przekierowania to miejsce, w którym odpowiedź na uwierzytelnianie zostanie wysłana po uwierzytelnieniu użytkownika).</span><span class="sxs-lookup"><span data-stu-id="335de-139">(The redirect URL is where the authentication response will be sent after the user authenticates.)</span></span> 

      <span data-ttu-id="335de-140">W przypadku aplikacji internetowej podaj podstawowy adres URL aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-140">For web applications, provide the base URL of your app.</span></span> <span data-ttu-id="335de-141">Na przykład ciąg `http://localhost:31544` może być adresem URL aplikacji internetowej uruchomionej na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="335de-141">For example, `http://localhost:31544` might be the URL for a web app running on your local machine.</span></span> <span data-ttu-id="335de-142">Użytkownicy mogą użyć tego adresu URL, aby zalogować się do aplikacji klienta internetowego.</span><span class="sxs-lookup"><span data-stu-id="335de-142">Users would use this URL to sign in to a web client application.</span></span>
      <span data-ttu-id="335de-143">W przypadku publicznych aplikacji klienckich podaj identyfikator URI używany przez usługę Azure AD do zwracania odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="335de-143">For public client applications, provide the URI used by Azure AD to return token responses.</span></span> <span data-ttu-id="335de-144">Podaj wartość specyficzną dla Twojej aplikacji, np. `myapp://auth`.</span><span class="sxs-lookup"><span data-stu-id="335de-144">Enter a value specific to your application, such as `myapp://auth`.</span></span>

4. <span data-ttu-id="335de-145">Wybierz pozycję **Zarejestruj**.</span><span class="sxs-lookup"><span data-stu-id="335de-145">Select **Register**.</span></span> <span data-ttu-id="335de-146">Usługa Azure AD przypisuje unikatowy identyfikator aplikacji (klienta) do aplikacji, a strona przeglądu aplikacji jest ładowana.</span><span class="sxs-lookup"><span data-stu-id="335de-146">Azure AD assigns a unique application (client) ID to your application, and the application's overview page loads.</span></span>

   :::image type="content" source="./images/manage-payouts/register-an-application.png" alt-text="<tekst alternatywny>":::

5. <span data-ttu-id="335de-148">Jeśli chcesz dodać możliwości do aplikacji, możesz wybrać inne opcje konfiguracji, w tym znakowanie, certyfikaty i wpisy tajne, uprawnienia interfejsu API i inne.</span><span class="sxs-lookup"><span data-stu-id="335de-148">If you want to add capabilities to your application, you can select other configuration options including branding, certificates and secrets, API permissions, and more.</span></span>

## <a name="platform-specific-properties"></a><span data-ttu-id="335de-149">Właściwości specyficzne dla platformy</span><span class="sxs-lookup"><span data-stu-id="335de-149">Platform-specific properties</span></span>

<span data-ttu-id="335de-150">W poniższej tabeli przedstawiono właściwości, które należy skonfigurować i skopiować dla różnych rodzajów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-150">The following table shows the properties that you need to configure and copy for different kinds of apps.</span></span> <span data-ttu-id="335de-151">**Przypisano** oznacza, że należy użyć wartości przypisanej przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="335de-151">**Assigned** means that you should use the value assigned by Azure AD.</span></span>

| <span data-ttu-id="335de-152">Typ aplikacji</span><span class="sxs-lookup"><span data-stu-id="335de-152">App type</span></span>              | <span data-ttu-id="335de-153">Platforma</span><span class="sxs-lookup"><span data-stu-id="335de-153">Platform</span></span> | <span data-ttu-id="335de-154">Identyfikator aplikacji (klienta)</span><span class="sxs-lookup"><span data-stu-id="335de-154">Application (client) ID</span></span> | <span data-ttu-id="335de-155">Klucz tajny klienta</span><span class="sxs-lookup"><span data-stu-id="335de-155">Client Secret</span></span> | <span data-ttu-id="335de-156">Redirect URI/URL</span><span class="sxs-lookup"><span data-stu-id="335de-156">Redirect URI/URL</span></span> | <span data-ttu-id="335de-157">Niejawne Flow</span><span class="sxs-lookup"><span data-stu-id="335de-157">Implicit Flow</span></span>                                                         |
|-----------------------|----------|-------------------------|---------------|------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="335de-158">Natywne/mobilne</span><span class="sxs-lookup"><span data-stu-id="335de-158">Native/Mobile</span></span>         | <span data-ttu-id="335de-159">Natywna</span><span class="sxs-lookup"><span data-stu-id="335de-159">Native</span></span>   | <span data-ttu-id="335de-160">Przypisane</span><span class="sxs-lookup"><span data-stu-id="335de-160">Assigned</span></span>                | <span data-ttu-id="335de-161">Nie</span><span class="sxs-lookup"><span data-stu-id="335de-161">No</span></span>            | <span data-ttu-id="335de-162">Przypisane</span><span class="sxs-lookup"><span data-stu-id="335de-162">Assigned</span></span>         | <span data-ttu-id="335de-163">Nie</span><span class="sxs-lookup"><span data-stu-id="335de-163">No</span></span>                                                                    |
| <span data-ttu-id="335de-164">Aplikacja internetowa</span><span class="sxs-lookup"><span data-stu-id="335de-164">Web App</span></span>               | <span data-ttu-id="335de-165">Internet</span><span class="sxs-lookup"><span data-stu-id="335de-165">Web</span></span>      | <span data-ttu-id="335de-166">Przypisane</span><span class="sxs-lookup"><span data-stu-id="335de-166">Assigned</span></span>                | <span data-ttu-id="335de-167">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-167">Yes</span></span>           | <span data-ttu-id="335de-168">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-168">Yes</span></span>              | <span data-ttu-id="335de-169">Opcjonalne rozwiązanie Open ID Połączenie pośredniczące domyślnie używa przepływu hybrydowego (Tak)</span><span class="sxs-lookup"><span data-stu-id="335de-169">Optional Open ID Connect middleware uses hybrid flow by default (Yes)</span></span> |
| <span data-ttu-id="335de-170">Aplikacja jednostronicowa (SPA)</span><span class="sxs-lookup"><span data-stu-id="335de-170">Single Page App (SPA)</span></span> | <span data-ttu-id="335de-171">Internet</span><span class="sxs-lookup"><span data-stu-id="335de-171">Web</span></span>      | <span data-ttu-id="335de-172">Przypisane</span><span class="sxs-lookup"><span data-stu-id="335de-172">Assigned</span></span>                | <span data-ttu-id="335de-173">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-173">Yes</span></span>           | <span data-ttu-id="335de-174">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-174">Yes</span></span>              | <span data-ttu-id="335de-175">Tak, spA używają funkcji Open ID Połączenie niejawnych Flow</span><span class="sxs-lookup"><span data-stu-id="335de-175">Yes SPAs use Open ID Connect implicit Flow</span></span>                            |
| <span data-ttu-id="335de-176">Usługa/demon</span><span class="sxs-lookup"><span data-stu-id="335de-176">Service/Daemon</span></span>        | <span data-ttu-id="335de-177">Internet</span><span class="sxs-lookup"><span data-stu-id="335de-177">Web</span></span>      | <span data-ttu-id="335de-178">Przypisane</span><span class="sxs-lookup"><span data-stu-id="335de-178">Assigned</span></span>                | <span data-ttu-id="335de-179">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-179">Yes</span></span>           | <span data-ttu-id="335de-180">Tak</span><span class="sxs-lookup"><span data-stu-id="335de-180">Yes</span></span>              | <span data-ttu-id="335de-181">Nie</span><span class="sxs-lookup"><span data-stu-id="335de-181">No</span></span>                                                                    |

## <a name="create-a-service-principal"></a><span data-ttu-id="335de-182">Tworzenie nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="335de-182">Create a service principal</span></span>

<span data-ttu-id="335de-183">Aby uzyskać dostęp do zasobów w ramach subskrypcji, musisz przypisać rolę do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-183">To access resources in your subscription, you must assign a role to the application.</span></span> <span data-ttu-id="335de-184">Aby uzyskać pomoc przy wyborze roli, która oferuje odpowiednie uprawnienia dla aplikacji, zobacz [Wbudowane role platformy Azure.](/azure/role-based-access-control/built-in-roles)</span><span class="sxs-lookup"><span data-stu-id="335de-184">For help deciding which role offers the right permissions for the application, see [Azure built-in roles](/azure/role-based-access-control/built-in-roles).</span></span>

> [!NOTE]
> <span data-ttu-id="335de-185">Zakres można ustawić na poziomie subskrypcji, grupy zasobów lub zasobu.</span><span class="sxs-lookup"><span data-stu-id="335de-185">You can set the scope at the level of the subscription, resource group, or resource.</span></span> <span data-ttu-id="335de-186">Uprawnienia są dziedziczone do niższych poziomów zakresu.</span><span class="sxs-lookup"><span data-stu-id="335de-186">Permissions are inherited to lower levels of scope.</span></span> <span data-ttu-id="335de-187">Na przykład dodanie aplikacji do roli Czytelnik dla grupy zasobów oznacza, że może odczytywać grupę zasobów i wszystkie zasoby, które zawiera.</span><span class="sxs-lookup"><span data-stu-id="335de-187">For example, adding an application to the Reader role for a resource group means it can read the resource group and any resources it contains.</span></span>

1. <span data-ttu-id="335de-188">W Azure Portal wybierz poziom zakresu, do których chcesz przypisać aplikację.</span><span class="sxs-lookup"><span data-stu-id="335de-188">In the Azure portal, select the level of scope to assign the application to.</span></span> <span data-ttu-id="335de-189">Aby na przykład przypisać rolę w zakresie subskrypcji, wyszukaj i wybierz pozycję Subskrypcje lub wybierz pozycję Subskrypcje **na** stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="335de-189">For example, to assign a role at the subscription scope, search for and select **Subscriptions**, or select **Subscriptions** on the home page.</span></span>

   :::image type="content" source="./images/manage-payouts/search-for-subscriptions.png" alt-text="Zrzut ekranu przedstawiający wyszukiwanie na ekranie Subskrypcje.":::

2. <span data-ttu-id="335de-191">Wybierz subskrypcję, do których chcesz przypisać aplikację.</span><span class="sxs-lookup"><span data-stu-id="335de-191">Select the subscription to assign the application to.</span></span>

   :::image type="content" source="./images/manage-payouts/internal-testing-subscription.png" alt-text="Zrzut ekranu przedstawiający ekran Subskrypcje z flagą testowania wewnętrznego ustawioną na wartość true.":::

> [!NOTE]
> <span data-ttu-id="335de-193">Jeśli nie widzisz subskrypcji, której szukasz, wybierz globalny filtr subskrypcji i upewnij się, że wybrano subskrypcję dla portalu.</span><span class="sxs-lookup"><span data-stu-id="335de-193">If you don't see the subscription you're looking for, select the global subscriptions filter and ensure the subscription you want is selected for the portal.</span></span>

3. <span data-ttu-id="335de-194">Wybierz opcję **Kontrola dostępu (IAM)**, a następnie wybierz opcję **Dodaj przypisanie roli**.</span><span class="sxs-lookup"><span data-stu-id="335de-194">Select **Access control (IAM)**, and then select **Add role assignment**.</span></span>

4. <span data-ttu-id="335de-195">Wybierz rolę, którą chcesz przypisać do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-195">Select the role you wish to assign to the application.</span></span> <span data-ttu-id="335de-196">Aby na przykład zezwolić aplikacji na wykonywanie akcji, takich jak ponowne uruchomienie, uruchamianie i zatrzymywanie wystąpień, wybierz rolę Współautor.</span><span class="sxs-lookup"><span data-stu-id="335de-196">For example, to allow the application to execute actions like reboot, start and stop instances, select the Contributor role.</span></span> <span data-ttu-id="335de-197">Przeczytaj więcej na [temat dostępnych ról.](/azure/role-based-access-control/built-in-roles)</span><span class="sxs-lookup"><span data-stu-id="335de-197">Read more about [available roles](/azure/role-based-access-control/built-in-roles).</span></span>

   <span data-ttu-id="335de-198">Domyślnie aplikacje usługi Azure AD nie są wyświetlane w dostępnych opcjach.</span><span class="sxs-lookup"><span data-stu-id="335de-198">By default, Azure AD applications aren't displayed in the available options.</span></span> <span data-ttu-id="335de-199">Aby znaleźć aplikację, wyszukaj nazwę i wybierz ją z wyników.</span><span class="sxs-lookup"><span data-stu-id="335de-199">To find your application, search on the name and select it from the results.</span></span> <span data-ttu-id="335de-200">Na poniższym zrzucie ekranu widać zarejestrowaną aplikację usługi `example-app` AAD.</span><span class="sxs-lookup"><span data-stu-id="335de-200">In the below screenshot, `example-app` is the AAD app you registered.</span></span>

   :::image type="content" source="./images/manage-payouts/add-role-assignment.png" alt-text="Zrzut ekranu przedstawiający interfejs użytkownika do dodawania przypisania roli dla aplikacji testowej.":::

5. <span data-ttu-id="335de-202">Wybierz pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="335de-202">Select **Save**.</span></span> <span data-ttu-id="335de-203">Następnie aplikacja będzie wyświetlona na liście użytkowników z rolą dla tego zakresu.</span><span class="sxs-lookup"><span data-stu-id="335de-203">You can then see your application in the list of users with a role for that scope.</span></span>

   <span data-ttu-id="335de-204">Możesz rozpocząć używanie jednostki usługi do uruchamiania skryptów lub aplikacji.</span><span class="sxs-lookup"><span data-stu-id="335de-204">You can start using your service principal to run your scripts or apps.</span></span> <span data-ttu-id="335de-205">Aby zarządzać uprawnieniami jednostki usługi, zobacz stan zgody użytkownika, przejrzyj uprawnienia, zobacz informacje dotyczące logowania i nie tylko), wyświetl swoje aplikacje Enterprise w Azure Portal [.](https://portal.azure.com)</span><span class="sxs-lookup"><span data-stu-id="335de-205">To manage your service principal's permissions, see user consent status, review permissions, see sign-in information, and more), view your Enterprise applications in the [Azure portal](https://portal.azure.com).</span></span>

## <a name="set-up-api-permissions"></a><span data-ttu-id="335de-206">Konfigurowanie uprawnień interfejsu API</span><span class="sxs-lookup"><span data-stu-id="335de-206">Set up API permissions</span></span>

<span data-ttu-id="335de-207">Ta sekcja zawiera instrukcje dotyczące sposobu skonfigurowania wymaganych uprawnień interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="335de-207">This section provides instruction on how to set up the required API permissions.</span></span> <span data-ttu-id="335de-208">Aby uzyskać więcej informacji na temat konfigurowania Partner Center interfejsu API, zobacz [interfejs API Partner uwierzytelniania.](/partner/develop/api-authentication)</span><span class="sxs-lookup"><span data-stu-id="335de-208">For more information about setting up Partner Center API permissions, see [Partner API authentication](/partner/develop/api-authentication).</span></span>

<span data-ttu-id="335de-209">**Udzielanie uprawnień do interfejsu API Graph API**</span><span class="sxs-lookup"><span data-stu-id="335de-209">**Grant permission to Graph API**</span></span>

1. <span data-ttu-id="335de-210">Otwórz [Rejestracje aplikacji](https://go.microsoft.com/fwlink/?linkid=2083908) w Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="335de-210">Open the [App registrations](https://go.microsoft.com/fwlink/?linkid=2083908) in the Azure portal.</span></span>

2. <span data-ttu-id="335de-211">Wybierz aplikację lub [utwórz aplikację,](/azure/active-directory/develop/quickstart-register-app) jeśli jeszcze jej nie masz.</span><span class="sxs-lookup"><span data-stu-id="335de-211">Select an application, or [create an app](/azure/active-directory/develop/quickstart-register-app) if you don't already have one.</span></span>

3. <span data-ttu-id="335de-212">Na stronie Przegląd aplikacji w obszarze Zarządzanie wybierz pozycję **Uprawnienia interfejsu API,** **a następnie pozycję Dodaj uprawnienie.**</span><span class="sxs-lookup"><span data-stu-id="335de-212">On the application's Overview page, under **Manage**, select **API Permissions**, then **Add a permission**.</span></span>

4. <span data-ttu-id="335de-213">Wybierz **pozycję Microsoft Graph** z listy dostępnych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="335de-213">Select **Microsoft Graph** from the list of available APIs.</span></span>

5. <span data-ttu-id="335de-214">Wybierz **pozycję Uprawnienia delegowane** i dodaj wymagane uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="335de-214">Select **Delegated permissions** and add required permissions.</span></span> <span data-ttu-id="335de-215">Aby uzyskać więcej informacji, zobacz [Konfigurowanie dostępu do aplikacji.](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)</span><span class="sxs-lookup"><span data-stu-id="335de-215">For more information, see [Configure app access](/azure/active-directory/develop/quickstart-configure-app-access-web-apis).</span></span>

   :::image type="content" source="./images/manage-payouts/graph-request-api-permissions.png" alt-text="Zrzut ekranu przedstawiający ekran uprawnień żądania w witrynie Azure Portal z wybraną Graph Microsoft.":::

<span data-ttu-id="335de-217">**Zgoda na dostęp interfejsu API do Partner Center API za pośrednictwem aplikacji usługi AAD**</span><span class="sxs-lookup"><span data-stu-id="335de-217">**Consent to API access to Partner Center API via AAD app**</span></span>

6. <span data-ttu-id="335de-218">W przypadku aplikacji wybierz pozycję Uprawnienia interfejsu **API,** **a** następnie na ekranie Żądanie uprawnień interfejsu API wybierz pozycję Dodaj uprawnienie, a następnie interfejsy API używane przez **moją organizację.**</span><span class="sxs-lookup"><span data-stu-id="335de-218">For your application, select **API permissions**, then, from the Request API permissions screen, select **Add a permission**, then **APIs my organization uses**.</span></span>

7. <span data-ttu-id="335de-219">Wyszukaj interfejs API partnera firmy **Microsoft (Microsoft Centrum deweloperów) (4990cffe-04e8-4e8b-808a-1175604b879f).**</span><span class="sxs-lookup"><span data-stu-id="335de-219">Search for **Microsoft Partner (Microsoft Dev Center) API (4990cffe-04e8-4e8b-808a-1175604b879f)**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Zrzut ekranu przedstawiający ekran uprawnień interfejsu API z wybranym partnerem firmy Microsoft.":::

8. <span data-ttu-id="335de-221">Ustaw uprawnienia delegowane na **wartość Partner Center**.</span><span class="sxs-lookup"><span data-stu-id="335de-221">Set the Delegated Permissions to **Partner Center**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Zrzut ekranu przedstawiający uprawnienia delegowane wybrane dla Partner Center na ekranie Żądanie uprawnień interfejsu API.":::

9. <span data-ttu-id="335de-223">Przyznaj **zgodę administratora** dla interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="335de-223">Grant **Admin consent** for the APIs.</span></span>

   :::image type="content" source="./images/manage-payouts/api-permissions.png" alt-text="Zrzut ekranu przedstawiający przełącznik zgody administratora na ekranie uprawnień interfejsu API.":::

   <span data-ttu-id="335de-225">Sprawdź, czy na ekranie Stan zgody administratora jest włączona zgoda administratora.</span><span class="sxs-lookup"><span data-stu-id="335de-225">Verify that Admin consent is enabled in the Admin consent status screen.</span></span>

   :::image type="content" source="./images/manage-payouts/admin-consent-verification.png" alt-text="Zrzut ekranu przedstawiający ekran stanu zgody administratora":::

10. <span data-ttu-id="335de-227">W sekcji **Uwierzytelnianie** upewnij się, że opcja **Zezwalaj na publiczne** przepływy klienta jest ustawiona na **wartość Tak.**</span><span class="sxs-lookup"><span data-stu-id="335de-227">In the **Authentication** section, make sure the **Allow public client flows** option is set to **Yes**.</span></span>

    :::image type="content" source="./images/manage-payouts/allow-public-client-flows.png" alt-text="Zrzut ekranu przedstawiający ekran uwierzytelnianie z ustawieniem Zezwalaj na publiczne przepływy klienta na wartość Tak.":::

## <a name="run-the-sample-code-in-visual-studio"></a><span data-ttu-id="335de-229">Uruchom przykładowy kod w Visual Studio</span><span class="sxs-lookup"><span data-stu-id="335de-229">Run the sample code in Visual Studio</span></span>

<span data-ttu-id="335de-230">Przykładowy kod przedstawiający sposób, w jaki interfejs API może być używany do płatności i historii transakcji, można znaleźć w centrum partnerskim — [interfejsy API](https://github.com/microsoft/Partner-Center-Payout-APIs) wypłat GitHub repo.</span><span class="sxs-lookup"><span data-stu-id="335de-230">Sample code showing how the API can be used for payment and transaction history be found in the [Partner-Center-Payout-APIs](https://github.com/microsoft/Partner-Center-Payout-APIs) GitHub repo.</span></span>

### <a name="sample-code-notes"></a><span data-ttu-id="335de-231">Uwagi dotyczące przykładowego kodu</span><span class="sxs-lookup"><span data-stu-id="335de-231">Sample code notes</span></span>

- <span data-ttu-id="335de-232">Konfiguracja wpisów tajnych i certyfikatów klienta, zgodnie z omówieniem w sekcji [Uwierzytelnianie:](/azure/active-directory/develop/howto-create-service-principal-portal) dwie opcje w sekcji Jak utworzyć jednostkę usługi w Azure Portal nie jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="335de-232">Configuration of Client secrets and Certificates as discussed in the Authentication: Two options section of [How to create a service principal in the Azure portal](/azure/active-directory/develop/howto-create-service-principal-portal) is not required.</span></span>
- <span data-ttu-id="335de-233">Konta z uwierzytelnianiem wieloskładnikowym (MFA) nie są obecnie obsługiwane i spowodują błąd.</span><span class="sxs-lookup"><span data-stu-id="335de-233">Accounts with multifactor authentication (MFA) are not currently supported and will cause an error.</span></span>
- <span data-ttu-id="335de-234">Interfejs API wypłat obsługuje tylko poświadczenia użytkownika/hasła.</span><span class="sxs-lookup"><span data-stu-id="335de-234">Payout API only supports user/password-based credentials.</span></span>

## <a name="next-steps"></a><span data-ttu-id="335de-235">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="335de-235">Next steps</span></span>

- [<span data-ttu-id="335de-236">używanie portalu do tworzenia aplikacji usługi Azure AD i jednostki usługi w celu uzyskiwania dostępu do zasobów</span><span class="sxs-lookup"><span data-stu-id="335de-236">Use the portal to create an Azure AD application and service principal that can access resources</span></span>](/azure/active-directory/develop/howto-create-service-principal-portal)
- [<span data-ttu-id="335de-237">Rejestrowanie aplikacji za pomocą platformy tożsamości firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="335de-237">Register an application with the Microsoft identity platform</span></span>](/graph/auth-register-app-v2)
- [<span data-ttu-id="335de-238">Konfigurowanie aplikacji klienckiej w celu uzyskiwania dostępu do internetowego interfejsu API</span><span class="sxs-lookup"><span data-stu-id="335de-238">Configure a client application to access a web API</span></span>](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)
